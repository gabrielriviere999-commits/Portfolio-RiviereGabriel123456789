ğŸ§¾ Documentation : Script ocr_batch.sh pour OCR en lot avec OCRmyPDF
ğŸ“Œ Objectif
Automatiser la conversion de plusieurs fichiers PDF en PDF texte avec reconnaissance
optique des caractÃ¨res (OCR), en utilisant le moteur Tesseract via OCRmyPDF, sans interface graphique.

ğŸ§° PrÃ©requis
Assurez-vous que les outils suivants sont installÃ©s :
sudo apt update
sudo apt install ocrmypdf tesseract-ocr tesseract-ocr-fra
    â€¢ ocrmypdf : outil principal pour appliquer lâ€™OCR
    â€¢ tesseract-ocr : moteur de reconnaissance optique
    â€¢ tesseract-ocr-fra : langue franÃ§aise pour Tesseract

ğŸ–¥ï¸ Contenu du script ocr_batch.sh

#!/bin/bash

# Dossier contenant les PDF Ã  convertir
INPUT_DIR="./pdf_input"
# Dossier de sortie
OUTPUT_DIR="./pdf_output"

# CrÃ©e les dossiers si nÃ©cessaires
mkdir -p "$INPUT_DIR"
mkdir -p "$OUTPUT_DIR"

# Langue OCR (modifiable)
LANG="fra"

# Traitement de chaque fichier PDF
for file in "$INPUT_DIR"/*.pdf; do
    filename=$(basename "$file")
    output_file="$OUTPUT_DIR/$filename"
    
    echo "Conversion OCR : $filename"
    
    ocrmypdf --force-ocr --rotate-pages --deskew -l "$LANG" "$file" "$output_file"
    
    echo "Fichier traitÃ© : $output_file"
done

echo "Tous les fichiers PDF ont Ã©tÃ© convertis avec OCR."

ğŸ§ª Fonctionnement
    1. Le script vÃ©rifie et crÃ©e les dossiers nÃ©cessaires.
    2. Il parcourt tous les fichiers .pdf dans pdf_input.
    3. Pour chaque fichier, il applique lâ€™OCR avec les options suivantes :
        â—¦ --force-ocr : force lâ€™OCR mÃªme si le PDF contient dÃ©jÃ  du texte 
        â—¦ --rotate-pages : corrige lâ€™orientation des pages 
        â—¦ --deskew : redresse les pages inclinÃ©es 
        â—¦ -l fra : utilise la langue franÃ§aise 
    4. Les fichiers convertis sont enregistrÃ©s dans pdf_output.

â–¶ï¸ Utilisation
    1. Place tes fichiers PDF dans pdf_input 
    2. Sauvegarde le script dans un fichier nommÃ© ocr_batch.sh 
    3. Rends-le exÃ©cutable : 
chmod +x ocr_batch.sh
    4. Lance-le : 
./ocr_batch.sh

ğŸ“¦ RÃ©sultat
Tu obtiendras dans pdf_output des fichiers PDF avec une couche texte OCR, consultables et
sÃ©lectionnables dans nâ€™importe quel lecteur PDF.


Tu peux ajouter ton script ocr_batch.sh au menu des applications de MX Linux en crÃ©ant un fichier .desktop. Voici comment faire Ã©tape par Ã©tape :

ğŸ§¾ Ajouter un script Bash au menu des applications MX Linux
ğŸ“ 1. CrÃ©e un fichier .desktop
Ouvre un terminal et tape :
nano ~/.local/share/applications/ocr_batch.desktop
Colle ce contenu :

[Desktop Entry]
Type=Application
Name=OCR Batch PDF
Comment=Convertit tous les PDF du dossier en PDF texte OCR
Exec=/chemin/vers/ocr_batch.sh
Icon=accessories-text-editor
Terminal=true
Categories=Utility;

Remplace /chemin/vers/ocr_batch.sh par le chemin absolu de ton script, par exemple /home/toto/ocr/ocr_batch.sh

ğŸ“¦ 2. Rends le script exÃ©cutable
chmod +x /chemin/vers/ocr_batch.sh

ğŸ§  3. VÃ©rifie dans le menu
    â€¢ Ouvre le menu MX Linux 
    â€¢ Cherche OCR Batch PDF 
    â€¢ Clique dessus â†’ ton script devrait sâ€™exÃ©cuter dans un terminal 

ğŸ¨ Astuce : changer lâ€™icÃ´ne
Tu peux remplacer Icon=accessories-text-editor par une autre icÃ´ne disponible dans ton systÃ¨me, comme :
    â€¢ Icon=utilities-terminal 
    â€¢ Icon=document-send 
    â€¢ Ou le chemin vers une icÃ´ne personnalisÃ©e : Icon=/home/toto/ocr/icon.png
